<%# Navbar %>
<nav class="bg-gradient-to-r from-gray-900 to-gray-800 shadow-lg">
  <div class="max-w-7xl mx-auto px-4">
    <!-- Mobile layout (< 768px) -->
    <div class="md:hidden py-3">
      <div class="flex justify-between items-center mb-3">
        <%= link_to root_path, class: "text-white font-bold text-xl" do %>
          myCards
        <% end %>

        <% if Current.user %>
          <%= button_to "Sign Out", session_path, method: :delete,
              class: "text-gray-200 hover:text-white text-sm bg-transparent border-none cursor-pointer",
              form_class: "inline" %>
        <% else %>
          <div class="flex gap-2">
            <%= link_to "Sign In", new_session_path, class: "text-gray-200 hover:text-white text-sm" %>
            <%= link_to "Sign Up", new_registration_path, class: "bg-yellow-800 text-white px-3 py-1.5 rounded text-sm font-semibold" %>
          </div>
        <% end %>
      </div>

      <!-- Only show search when authenticated -->
      <% if Current.user %>
        <%= form_with url: search_cards_path, method: :get, class: "w-full" do |f| %>
          <%= f.text_field :q,
              placeholder: "Search cards...",
              class: "w-full px-4 py-2 rounded-lg text-gray-900 bg-white focus:outline-none focus:ring-2 focus:ring-yellow-600" %>
        <% end %>

        <%= link_to "My Collection", collection_cards_path, class: "block mt-3 text-gray-200 hover:text-white text-center" %>
      <% end %>
    </div>

    <!-- Desktop layout (>= 768px) -->
    <div class="hidden md:flex justify-between items-center h-16 gap-4">
      <div class="flex items-center flex-shrink-0">
        <%= link_to root_path, class: "text-white font-bold text-xl hover:text-yellow-600 transition-colors" do %>
          myCards
        <% end %>
      </div>

      <!-- Only show search when authenticated -->
      <% if Current.user %>
        <div class="flex-1 max-w-md">
          <%= form_with url: search_cards_path, method: :get, class: "w-full" do |f| %>
            <%= f.text_field :q,
                placeholder: "Search cards...",
                class: "w-full px-4 py-2 rounded-lg text-gray-900 bg-white/90 focus:bg-white focus:outline-none focus:ring-2 focus:ring-yellow-600 text-sm" %>
          <% end %>
        </div>
      <% end %>

      <div class="flex items-center space-x-6 flex-shrink-0">
        <% if Current.user %>
          <%= link_to "My Collection", collection_cards_path, class: "text-gray-200 hover:text-white transition-colors whitespace-nowrap" %>
          <%= button_to "Sign Out", session_path, method: :delete,
              class: "text-gray-200 hover:text-white transition-colors bg-transparent border-none cursor-pointer",
              form_class: "inline" %>
        <% else %>
          <%= link_to "Sign In", new_session_path, class: "text-gray-200 hover:text-white transition-colors" %>
          <%= link_to "Sign Up", new_registration_path, class: "bg-yellow-800 text-white px-4 py-2 rounded-lg font-semibold hover:bg-yellow-700 transition-colors whitespace-nowrap" %>
        <% end %>
      </div>
    </div>
  </div>
</nav>
